{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/* eslint-disable @typescript-eslint/unbound-method */\n\n\nimport React from 'react';\nimport cx from 'classnames';\nimport { Group } from '@vx/group';\nimport { stack as d3stack } from 'd3-shape';\nimport stackOrder from '../util/stackOrder';\nimport stackOffset from '../util/stackOffset';\nimport Bar from './Bar';\nimport setNumOrAccessor from '../util/setNumberOrNumberAccessor';\nexport default function BarStackHorizontal(_ref) {\n  var data = _ref.data,\n      className = _ref.className,\n      top = _ref.top,\n      left = _ref.left,\n      y = _ref.y,\n      _ref$x = _ref.x0,\n      x0 = _ref$x === void 0 ? function (d) {\n    return d && d[0];\n  } : _ref$x,\n      _ref$x2 = _ref.x1,\n      x1 = _ref$x2 === void 0 ? function (d) {\n    return d && d[1];\n  } : _ref$x2,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      color = _ref.color,\n      keys = _ref.keys,\n      value = _ref.value,\n      order = _ref.order,\n      offset = _ref.offset,\n      children = _ref.children,\n      restProps = _objectWithoutPropertiesLoose(_ref, [\"data\", \"className\", \"top\", \"left\", \"y\", \"x0\", \"x1\", \"xScale\", \"yScale\", \"color\", \"keys\", \"value\", \"order\", \"offset\", \"children\"]);\n\n  var stack = d3stack();\n  if (keys) stack.keys(keys);\n  if (value) setNumOrAccessor(stack.value, value);\n  if (order) stack.order(stackOrder(order));\n  if (offset) stack.offset(stackOffset(offset));\n  var stacks = stack(data);\n  var yRange = yScale.range();\n  var yDomain = yScale.domain();\n  var barHeight = 'bandwidth' in yScale && typeof yScale.bandwidth === 'function' ? yScale.bandwidth() : Math.abs(yRange[yRange.length - 1] - yRange[0]) / yDomain.length;\n  var barStacks = stacks.map(function (barStack, i) {\n    var key = barStack.key;\n    return {\n      index: i,\n      key: key,\n      bars: barStack.map(function (bar, j) {\n        var barWidth = (xScale(x1(bar)) || 0) - (xScale(x0(bar)) || 0);\n        var barX = xScale(x0(bar));\n        var barY = 'bandwidth' in yScale && typeof yScale.bandwidth === 'function' ? yScale(y(bar.data)) : Math.max((yScale(y(bar.data)) || 0) - barWidth / 2);\n        return {\n          bar: bar,\n          key: key,\n          index: j,\n          height: barHeight,\n          width: barWidth,\n          x: barX || 0,\n          y: barY || 0,\n          color: color(barStack.key, j)\n        };\n      })\n    };\n  });\n  if (children) return React.createElement(React.Fragment, null, children(barStacks));\n  return React.createElement(Group, {\n    className: cx('vx-bar-stack-horizontal', className),\n    top: top,\n    left: left\n  }, barStacks.map(function (barStack) {\n    return barStack.bars.map(function (bar) {\n      return React.createElement(Bar, _extends({\n        key: \"bar-stack-\" + barStack.index + \"-\" + bar.index,\n        x: bar.x,\n        y: bar.y,\n        height: bar.height,\n        width: bar.width,\n        fill: bar.color\n      }, restProps));\n    });\n  }));\n}\nBarStackHorizontal.propTypes = {\n  x0: _pt.func,\n  x1: _pt.func,\n  y: _pt.func.isRequired\n};","map":{"version":3,"sources":["/Users/qorka/JS/covid/ui/node_modules/@vx/shape/esm/shapes/BarStackHorizontal.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","cx","Group","stack","d3stack","stackOrder","stackOffset","Bar","setNumOrAccessor","BarStackHorizontal","_ref","data","className","top","left","y","_ref$x","x0","d","_ref$x2","x1","xScale","yScale","color","value","order","offset","children","restProps","stacks","yRange","range","yDomain","domain","barHeight","bandwidth","Math","abs","barStacks","map","barStack","index","bars","bar","j","barWidth","barX","barY","max","height","width","x","createElement","Fragment","fill","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable @typescript-eslint/unbound-method */\nimport React from 'react';\nimport cx from 'classnames';\nimport { Group } from '@vx/group';\nimport { stack as d3stack } from 'd3-shape';\nimport stackOrder from '../util/stackOrder';\nimport stackOffset from '../util/stackOffset';\nimport Bar from './Bar';\nimport setNumOrAccessor from '../util/setNumberOrNumberAccessor';\nexport default function BarStackHorizontal(_ref) {\n  var data = _ref.data,\n      className = _ref.className,\n      top = _ref.top,\n      left = _ref.left,\n      y = _ref.y,\n      _ref$x = _ref.x0,\n      x0 = _ref$x === void 0 ? function (d) {\n    return d && d[0];\n  } : _ref$x,\n      _ref$x2 = _ref.x1,\n      x1 = _ref$x2 === void 0 ? function (d) {\n    return d && d[1];\n  } : _ref$x2,\n      xScale = _ref.xScale,\n      yScale = _ref.yScale,\n      color = _ref.color,\n      keys = _ref.keys,\n      value = _ref.value,\n      order = _ref.order,\n      offset = _ref.offset,\n      children = _ref.children,\n      restProps = _objectWithoutPropertiesLoose(_ref, [\"data\", \"className\", \"top\", \"left\", \"y\", \"x0\", \"x1\", \"xScale\", \"yScale\", \"color\", \"keys\", \"value\", \"order\", \"offset\", \"children\"]);\n\n  var stack = d3stack();\n  if (keys) stack.keys(keys);\n  if (value) setNumOrAccessor(stack.value, value);\n  if (order) stack.order(stackOrder(order));\n  if (offset) stack.offset(stackOffset(offset));\n  var stacks = stack(data);\n  var yRange = yScale.range();\n  var yDomain = yScale.domain();\n  var barHeight = 'bandwidth' in yScale && typeof yScale.bandwidth === 'function' ? yScale.bandwidth() : Math.abs(yRange[yRange.length - 1] - yRange[0]) / yDomain.length;\n  var barStacks = stacks.map(function (barStack, i) {\n    var key = barStack.key;\n    return {\n      index: i,\n      key: key,\n      bars: barStack.map(function (bar, j) {\n        var barWidth = (xScale(x1(bar)) || 0) - (xScale(x0(bar)) || 0);\n        var barX = xScale(x0(bar));\n        var barY = 'bandwidth' in yScale && typeof yScale.bandwidth === 'function' ? yScale(y(bar.data)) : Math.max((yScale(y(bar.data)) || 0) - barWidth / 2);\n        return {\n          bar: bar,\n          key: key,\n          index: j,\n          height: barHeight,\n          width: barWidth,\n          x: barX || 0,\n          y: barY || 0,\n          color: color(barStack.key, j)\n        };\n      })\n    };\n  });\n  if (children) return React.createElement(React.Fragment, null, children(barStacks));\n  return React.createElement(Group, {\n    className: cx('vx-bar-stack-horizontal', className),\n    top: top,\n    left: left\n  }, barStacks.map(function (barStack) {\n    return barStack.bars.map(function (bar) {\n      return React.createElement(Bar, _extends({\n        key: \"bar-stack-\" + barStack.index + \"-\" + bar.index,\n        x: bar.x,\n        y: bar.y,\n        height: bar.height,\n        width: bar.width,\n        fill: bar.color\n      }, restProps));\n    });\n  }));\n}\nBarStackHorizontal.propTypes = {\n  x0: _pt.func,\n  x1: _pt.func,\n  y: _pt.func.isRequired\n};"]},"metadata":{},"sourceType":"module"}