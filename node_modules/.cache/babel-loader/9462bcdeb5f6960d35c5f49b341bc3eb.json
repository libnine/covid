{"ast":null,"code":"var _jsxFileName = \"/Users/qorka/Projects/covid/ui/src/components/states.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport { axisBottom, axisLeft, csv, extent, max, nest, scaleLinear, scaleOrdinal, select } from 'd3';\nimport '../styles/compa.css';\n\nfunction States() {\n  var margin = {\n    top: 10,\n    right: 30,\n    bottom: 30,\n    left: 60\n  },\n      width = 460 - margin.left - margin.right,\n      height = 400 - margin.top - margin.bottom;\n  var svg = select(\"#svgDump\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n  csv(\"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/5_OneCatSevNumOrdered.csv\", function (data) {\n    var sumstat = nest().key(function (d) {\n      return d.name;\n    }).entries(data);\n    var x = scaleLinear().domain(extent(data, function (d) {\n      return d.year;\n    })).range([0, width]);\n    svg.append(\"g\").attr(\"transform\", \"translate(0,\" + height + \")\").call(axisBottom(x).ticks(5));\n    var y = scaleLinear().domain([0, max(data, function (d) {\n      return +d.n;\n    })]).range([height, 0]);\n    svg.append(\"g\").call(axisLeft(y));\n    var res = sumstat.map(function (d) {\n      return d.key;\n    });\n    var color = scaleOrdinal().domain(res).range(['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999']);\n    svg.selectAll(\".line\").data(sumstat).enter().append(\"path\").attr(\"fill\", \"none\").attr(\"stroke\", function (d) {\n      return color(d.key);\n    }).attr(\"stroke-width\", 1.5).attr(\"d\", function (d) {\n      return line().x(function (d) {\n        return x(d.year);\n      }).y(function (d) {\n        return y(+d.n);\n      })(d.values);\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"svgDump\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default States;","map":{"version":3,"sources":["/Users/qorka/Projects/covid/ui/src/components/states.js"],"names":["React","useRef","useEffect","useState","axisBottom","axisLeft","csv","extent","max","nest","scaleLinear","scaleOrdinal","select","States","margin","top","right","bottom","left","width","height","svg","append","attr","data","sumstat","key","d","name","entries","x","domain","year","range","call","ticks","y","n","res","map","color","selectAll","enter","line","values"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport { axisBottom, axisLeft, csv, extent, max, nest, scaleLinear, scaleOrdinal, select } from 'd3'\nimport '../styles/compa.css'\n\nfunction States() {\nvar margin = {top: 10, right: 30, bottom: 30, left: 60},\n    width = 460 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\nvar svg = select(\"#svgDump\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\",\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\ncsv(\"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/5_OneCatSevNumOrdered.csv\", function(data) {\n  var sumstat = nest()\n    .key(function(d) { return d.name;})\n    .entries(data);\n\n  var x = scaleLinear()\n    .domain(extent(data, function(d) { return d.year; }))\n    .range([ 0, width ]);\n  svg.append(\"g\")\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(axisBottom(x).ticks(5));\n\n  var y = scaleLinear()\n    .domain([0, max(data, function(d) { return +d.n; })])\n    .range([ height, 0 ]);\n  svg.append(\"g\")\n    .call(axisLeft(y));\n\n  var res = sumstat.map(function(d){ return d.key })\n  var color = scaleOrdinal()\n    .domain(res)\n    .range(['#e41a1c','#377eb8','#4daf4a','#984ea3','#ff7f00','#ffff33','#a65628','#f781bf','#999999'])\n\n  svg.selectAll(\".line\")\n      .data(sumstat)\n      .enter()\n      .append(\"path\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", function(d){ return color(d.key) })\n        .attr(\"stroke-width\", 1.5)\n        .attr(\"d\", function(d){\n          return line()\n            .x(function(d) { return x(d.year); })\n            .y(function(d) { return y(+d.n); })\n            (d.values)\n        })\n})\n\n  return (\n    <React.Fragment>\n      <div id=\"svgDump\"></div>\n    </React.Fragment>\n  )\n}\n\nexport default States\n\n"]},"metadata":{},"sourceType":"module"}