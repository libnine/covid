{"ast":null,"code":"import _pt from \"prop-types\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React from 'react';\nimport cx from 'classnames';\nimport { Group } from '@vx/group';\nimport Bar from './Bar';\n/**\n * Generates bar groups as an array of objects and renders `<rect />`s for each datum grouped by `key`. A general setup might look like this:\n *\n * ```js\n * const data = [{\n *  date: date1,\n *  key1: value,\n *  key2: value,\n *  key3: value\n * }, {\n *  date: date2,\n *  key1: value,\n *  key2: value,\n *  key3: value,\n * }];\n *\n * const x0 = d => d.date;\n * const keys = [key1, key2, key3];\n *\n * const x0Scale = scaleBand({\n *  domain: data.map(x0),\n *  padding: 0.2\n * });\n * const x1Scale = scaleBand({\n *  domain: keys,\n *  padding: 0.1\n * });\n * const yScale = scaleLinear({\n *   domain: [0, Math.max(...data.map(d => Math.max(...keys.map(key => d[key]))))]\n * });\n * const color = scaleOrdinal({\n *   domain: keys,\n *   range: [blue, green, purple]\n * });\n * ```\n *\n * Example: [https://vx-demo.now.sh/bargroup](https://vx-demo.now.sh/bargroup)\n */\n\nexport default function BarGroupComponent(_ref) {\n  var data = _ref.data,\n      className = _ref.className,\n      top = _ref.top,\n      left = _ref.left,\n      x0 = _ref.x0,\n      x0Scale = _ref.x0Scale,\n      x1Scale = _ref.x1Scale,\n      yScale = _ref.yScale,\n      color = _ref.color,\n      keys = _ref.keys,\n      height = _ref.height,\n      children = _ref.children,\n      restProps = _objectWithoutPropertiesLoose(_ref, [\"data\", \"className\", \"top\", \"left\", \"x0\", \"x0Scale\", \"x1Scale\", \"yScale\", \"color\", \"keys\", \"height\", \"children\"]);\n\n  var x1Range = x1Scale.range();\n  var x1Domain = x1Scale.domain();\n  var barWidth = 'bandwidth' in x1Scale && typeof x1Scale.bandwidth === 'function' ? x1Scale.bandwidth() : Math.abs(x1Range[x1Range.length - 1] - x1Range[0]) / x1Domain.length;\n  var barGroups = data.map(function (group, i) {\n    return {\n      index: i,\n      x0: x0Scale(x0(group)),\n      bars: keys.map(function (key, j) {\n        var value = group[key];\n        return {\n          index: j,\n          key: key,\n          value: value,\n          width: barWidth,\n          x: x1Scale(key) || 0,\n          y: yScale(value) || 0,\n          color: color(key, j),\n          height: height - (yScale(value) || 0)\n        };\n      })\n    };\n  });\n  if (children) return React.createElement(React.Fragment, null, children(barGroups));\n  return React.createElement(Group, {\n    className: cx('vx-bar-group', className),\n    top: top,\n    left: left\n  }, barGroups.map(function (barGroup) {\n    return React.createElement(Group, {\n      key: \"bar-group-\" + barGroup.index + \"-\" + barGroup.x0,\n      left: barGroup.x0\n    }, barGroup.bars.map(function (bar) {\n      return React.createElement(Bar, _extends({\n        key: \"bar-group-bar-\" + barGroup.index + \"-\" + bar.index + \"-\" + bar.value + \"-\" + bar.key,\n        x: bar.x,\n        y: bar.y,\n        width: bar.width,\n        height: bar.height,\n        fill: bar.color\n      }, restProps));\n    }));\n  }));\n}\nBarGroupComponent.propTypes = {\n  data: _pt.array.isRequired,\n  x0: _pt.func.isRequired,\n  color: _pt.func.isRequired,\n  keys: _pt.array.isRequired,\n  height: _pt.number.isRequired,\n  className: _pt.string,\n  top: _pt.number,\n  left: _pt.number,\n  children: _pt.func\n};","map":{"version":3,"sources":["/Users/qorka/JS/covid/ui/node_modules/@vx/shape/esm/shapes/BarGroup.js"],"names":["_pt","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","cx","Group","Bar","BarGroupComponent","_ref","data","className","top","left","x0","x0Scale","x1Scale","yScale","color","height","children","restProps","x1Range","range","x1Domain","domain","barWidth","bandwidth","Math","abs","barGroups","map","group","index","bars","j","value","width","x","y","createElement","Fragment","barGroup","bar","fill","propTypes","array","isRequired","func","number","string"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,YAAhB;;AAEA,SAASC,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,IAAAA,GAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,IAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT,OAAOe,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,SAASC,KAAT,QAAsB,WAAtB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,eAAe,SAASC,iBAAT,CAA2BC,IAA3B,EAAiC;AAC9C,MAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AAAA,MACIC,SAAS,GAAGF,IAAI,CAACE,SADrB;AAAA,MAEIC,GAAG,GAAGH,IAAI,CAACG,GAFf;AAAA,MAGIC,IAAI,GAAGJ,IAAI,CAACI,IAHhB;AAAA,MAIIC,EAAE,GAAGL,IAAI,CAACK,EAJd;AAAA,MAKIC,OAAO,GAAGN,IAAI,CAACM,OALnB;AAAA,MAMIC,OAAO,GAAGP,IAAI,CAACO,OANnB;AAAA,MAOIC,MAAM,GAAGR,IAAI,CAACQ,MAPlB;AAAA,MAQIC,KAAK,GAAGT,IAAI,CAACS,KARjB;AAAA,MASIhB,IAAI,GAAGO,IAAI,CAACP,IAThB;AAAA,MAUIiB,MAAM,GAAGV,IAAI,CAACU,MAVlB;AAAA,MAWIC,QAAQ,GAAGX,IAAI,CAACW,QAXpB;AAAA,MAYIC,SAAS,GAAGtB,6BAA6B,CAACU,IAAD,EAAO,CAAC,MAAD,EAAS,WAAT,EAAsB,KAAtB,EAA6B,MAA7B,EAAqC,IAArC,EAA2C,SAA3C,EAAsD,SAAtD,EAAiE,QAAjE,EAA2E,OAA3E,EAAoF,MAApF,EAA4F,QAA5F,EAAsG,UAAtG,CAAP,CAZ7C;;AAcA,MAAIa,OAAO,GAAGN,OAAO,CAACO,KAAR,EAAd;AACA,MAAIC,QAAQ,GAAGR,OAAO,CAACS,MAAR,EAAf;AACA,MAAIC,QAAQ,GAAG,eAAeV,OAAf,IAA0B,OAAOA,OAAO,CAACW,SAAf,KAA6B,UAAvD,GAAoEX,OAAO,CAACW,SAAR,EAApE,GAA0FC,IAAI,CAACC,GAAL,CAASP,OAAO,CAACA,OAAO,CAAC9B,MAAR,GAAiB,CAAlB,CAAP,GAA8B8B,OAAO,CAAC,CAAD,CAA9C,IAAqDE,QAAQ,CAAChC,MAAvK;AACA,MAAIsC,SAAS,GAAGpB,IAAI,CAACqB,GAAL,CAAS,UAAUC,KAAV,EAAiB1C,CAAjB,EAAoB;AAC3C,WAAO;AACL2C,MAAAA,KAAK,EAAE3C,CADF;AAELwB,MAAAA,EAAE,EAAEC,OAAO,CAACD,EAAE,CAACkB,KAAD,CAAH,CAFN;AAGLE,MAAAA,IAAI,EAAEhC,IAAI,CAAC6B,GAAL,CAAS,UAAUrC,GAAV,EAAeyC,CAAf,EAAkB;AAC/B,YAAIC,KAAK,GAAGJ,KAAK,CAACtC,GAAD,CAAjB;AACA,eAAO;AACLuC,UAAAA,KAAK,EAAEE,CADF;AAELzC,UAAAA,GAAG,EAAEA,GAFA;AAGL0C,UAAAA,KAAK,EAAEA,KAHF;AAILC,UAAAA,KAAK,EAAEX,QAJF;AAKLY,UAAAA,CAAC,EAAEtB,OAAO,CAACtB,GAAD,CAAP,IAAgB,CALd;AAML6C,UAAAA,CAAC,EAAEtB,MAAM,CAACmB,KAAD,CAAN,IAAiB,CANf;AAOLlB,UAAAA,KAAK,EAAEA,KAAK,CAACxB,GAAD,EAAMyC,CAAN,CAPP;AAQLhB,UAAAA,MAAM,EAAEA,MAAM,IAAIF,MAAM,CAACmB,KAAD,CAAN,IAAiB,CAArB;AART,SAAP;AAUD,OAZK;AAHD,KAAP;AAiBD,GAlBe,CAAhB;AAmBA,MAAIhB,QAAJ,EAAc,OAAOhB,KAAK,CAACoC,aAAN,CAAoBpC,KAAK,CAACqC,QAA1B,EAAoC,IAApC,EAA0CrB,QAAQ,CAACU,SAAD,CAAlD,CAAP;AACd,SAAO1B,KAAK,CAACoC,aAAN,CAAoBlC,KAApB,EAA2B;AAChCK,IAAAA,SAAS,EAAEN,EAAE,CAAC,cAAD,EAAiBM,SAAjB,CADmB;AAEhCC,IAAAA,GAAG,EAAEA,GAF2B;AAGhCC,IAAAA,IAAI,EAAEA;AAH0B,GAA3B,EAIJiB,SAAS,CAACC,GAAV,CAAc,UAAUW,QAAV,EAAoB;AACnC,WAAOtC,KAAK,CAACoC,aAAN,CAAoBlC,KAApB,EAA2B;AAChCZ,MAAAA,GAAG,EAAE,eAAegD,QAAQ,CAACT,KAAxB,GAAgC,GAAhC,GAAsCS,QAAQ,CAAC5B,EADpB;AAEhCD,MAAAA,IAAI,EAAE6B,QAAQ,CAAC5B;AAFiB,KAA3B,EAGJ4B,QAAQ,CAACR,IAAT,CAAcH,GAAd,CAAkB,UAAUY,GAAV,EAAe;AAClC,aAAOvC,KAAK,CAACoC,aAAN,CAAoBjC,GAApB,EAAyBrB,QAAQ,CAAC;AACvCQ,QAAAA,GAAG,EAAE,mBAAmBgD,QAAQ,CAACT,KAA5B,GAAoC,GAApC,GAA0CU,GAAG,CAACV,KAA9C,GAAsD,GAAtD,GAA4DU,GAAG,CAACP,KAAhE,GAAwE,GAAxE,GAA8EO,GAAG,CAACjD,GADhD;AAEvC4C,QAAAA,CAAC,EAAEK,GAAG,CAACL,CAFgC;AAGvCC,QAAAA,CAAC,EAAEI,GAAG,CAACJ,CAHgC;AAIvCF,QAAAA,KAAK,EAAEM,GAAG,CAACN,KAJ4B;AAKvClB,QAAAA,MAAM,EAAEwB,GAAG,CAACxB,MAL2B;AAMvCyB,QAAAA,IAAI,EAAED,GAAG,CAACzB;AAN6B,OAAD,EAOrCG,SAPqC,CAAjC,CAAP;AAQD,KATE,CAHI,CAAP;AAaD,GAdE,CAJI,CAAP;AAmBD;AACDb,iBAAiB,CAACqC,SAAlB,GAA8B;AAC5BnC,EAAAA,IAAI,EAAEzB,GAAG,CAAC6D,KAAJ,CAAUC,UADY;AAE5BjC,EAAAA,EAAE,EAAE7B,GAAG,CAAC+D,IAAJ,CAASD,UAFe;AAG5B7B,EAAAA,KAAK,EAAEjC,GAAG,CAAC+D,IAAJ,CAASD,UAHY;AAI5B7C,EAAAA,IAAI,EAAEjB,GAAG,CAAC6D,KAAJ,CAAUC,UAJY;AAK5B5B,EAAAA,MAAM,EAAElC,GAAG,CAACgE,MAAJ,CAAWF,UALS;AAM5BpC,EAAAA,SAAS,EAAE1B,GAAG,CAACiE,MANa;AAO5BtC,EAAAA,GAAG,EAAE3B,GAAG,CAACgE,MAPmB;AAQ5BpC,EAAAA,IAAI,EAAE5B,GAAG,CAACgE,MARkB;AAS5B7B,EAAAA,QAAQ,EAAEnC,GAAG,CAAC+D;AATc,CAA9B","sourcesContent":["import _pt from \"prop-types\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport cx from 'classnames';\nimport { Group } from '@vx/group';\nimport Bar from './Bar';\n\n/**\n * Generates bar groups as an array of objects and renders `<rect />`s for each datum grouped by `key`. A general setup might look like this:\n *\n * ```js\n * const data = [{\n *  date: date1,\n *  key1: value,\n *  key2: value,\n *  key3: value\n * }, {\n *  date: date2,\n *  key1: value,\n *  key2: value,\n *  key3: value,\n * }];\n *\n * const x0 = d => d.date;\n * const keys = [key1, key2, key3];\n *\n * const x0Scale = scaleBand({\n *  domain: data.map(x0),\n *  padding: 0.2\n * });\n * const x1Scale = scaleBand({\n *  domain: keys,\n *  padding: 0.1\n * });\n * const yScale = scaleLinear({\n *   domain: [0, Math.max(...data.map(d => Math.max(...keys.map(key => d[key]))))]\n * });\n * const color = scaleOrdinal({\n *   domain: keys,\n *   range: [blue, green, purple]\n * });\n * ```\n *\n * Example: [https://vx-demo.now.sh/bargroup](https://vx-demo.now.sh/bargroup)\n */\nexport default function BarGroupComponent(_ref) {\n  var data = _ref.data,\n      className = _ref.className,\n      top = _ref.top,\n      left = _ref.left,\n      x0 = _ref.x0,\n      x0Scale = _ref.x0Scale,\n      x1Scale = _ref.x1Scale,\n      yScale = _ref.yScale,\n      color = _ref.color,\n      keys = _ref.keys,\n      height = _ref.height,\n      children = _ref.children,\n      restProps = _objectWithoutPropertiesLoose(_ref, [\"data\", \"className\", \"top\", \"left\", \"x0\", \"x0Scale\", \"x1Scale\", \"yScale\", \"color\", \"keys\", \"height\", \"children\"]);\n\n  var x1Range = x1Scale.range();\n  var x1Domain = x1Scale.domain();\n  var barWidth = 'bandwidth' in x1Scale && typeof x1Scale.bandwidth === 'function' ? x1Scale.bandwidth() : Math.abs(x1Range[x1Range.length - 1] - x1Range[0]) / x1Domain.length;\n  var barGroups = data.map(function (group, i) {\n    return {\n      index: i,\n      x0: x0Scale(x0(group)),\n      bars: keys.map(function (key, j) {\n        var value = group[key];\n        return {\n          index: j,\n          key: key,\n          value: value,\n          width: barWidth,\n          x: x1Scale(key) || 0,\n          y: yScale(value) || 0,\n          color: color(key, j),\n          height: height - (yScale(value) || 0)\n        };\n      })\n    };\n  });\n  if (children) return React.createElement(React.Fragment, null, children(barGroups));\n  return React.createElement(Group, {\n    className: cx('vx-bar-group', className),\n    top: top,\n    left: left\n  }, barGroups.map(function (barGroup) {\n    return React.createElement(Group, {\n      key: \"bar-group-\" + barGroup.index + \"-\" + barGroup.x0,\n      left: barGroup.x0\n    }, barGroup.bars.map(function (bar) {\n      return React.createElement(Bar, _extends({\n        key: \"bar-group-bar-\" + barGroup.index + \"-\" + bar.index + \"-\" + bar.value + \"-\" + bar.key,\n        x: bar.x,\n        y: bar.y,\n        width: bar.width,\n        height: bar.height,\n        fill: bar.color\n      }, restProps));\n    }));\n  }));\n}\nBarGroupComponent.propTypes = {\n  data: _pt.array.isRequired,\n  x0: _pt.func.isRequired,\n  color: _pt.func.isRequired,\n  keys: _pt.array.isRequired,\n  height: _pt.number.isRequired,\n  className: _pt.string,\n  top: _pt.number,\n  left: _pt.number,\n  children: _pt.func\n};"]},"metadata":{},"sourceType":"module"}